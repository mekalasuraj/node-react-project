(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{308:function(e,s,a){"use strict";a.r(s);a(15);var t=a(10),c=a(39),i=a(0),n=a(44),r=a.n(n),l=a(63),o=a(119),d=a(297),b=a(18),m=a(3),j=["label"],u=function(e){var s=e.label,a=Object(b.a)(e,j),i=Object(o.d)(a),n=Object(c.a)(i,2),r=n[0],l=n[1];return Object(m.jsxs)("div",{className:"mb-2",children:[Object(m.jsx)("label",{htmlFor:r.name,children:s}),Object(m.jsx)("input",Object(t.a)(Object(t.a)(Object(t.a)({className:"form-control shadow-none ".concat(l.touched&&l.error&&"is-invalid")},r),a),{},{autoComplete:"off"})),Object(m.jsx)(o.a,{component:"div",name:r.name,className:"error"})]})};s.default=function(e){var s=Object(i.useState)({email:"",password:""}),a=Object(c.a)(s,2),t=(a[0],a[1]),n=Object(i.useState)(!1),b=Object(c.a)(n,2),j=b[0],O=b[1],h=d.a({email:d.b().email("Email is invalid").required("Email is required"),password:d.b().min(5,"Password must be at least 5 charaters").required("Password is required")});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"col-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-4"}),Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("h3",{className:"text-center mt-5 mb-5",children:"Login"}),Object(m.jsx)(o.c,{initialValues:{email:"",password:""},validationSchema:h,onSubmit:function(e){console.log(e);var s={email:e.email,password:e.password};r.a.post("/api/users/auth/student",s).then((function(e){if("record_found"===e.data.message){var s=Object(l.a)(e.data.token);console.log(s),t({email:"",password:""}),sessionStorage.setItem("user",JSON.stringify(s)),sessionStorage.setItem("token",e.data.token),window.location.href="/dashboard"}else"No_Matches"===e.data.message&&O(!0)}))},children:function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"my-4 font-weight-bold .display-4",children:"Sign Up"}),j&&Object(m.jsx)("div",{className:"err_msg mb-4",children:"Invalid Credentials"}),Object(m.jsxs)(o.b,{children:[Object(m.jsx)(u,{label:"Email",name:"email",type:"email"}),Object(m.jsx)(u,{label:"password",name:"password",type:"password"}),Object(m.jsx)("button",{className:"btn btn-primary btn-block mb-3",type:"submit",children:"Login"})]}),Object(m.jsx)("a",{href:"/register",className:"mt-3",style:{textDecoration:"underline"},children:"Register"})]})}})]}),Object(m.jsx)("div",{className:"col-4"})]})})})}}}]);
//# sourceMappingURL=9.442571df.chunk.js.map